<html>

<link rel="stylesheet" type="text/css" href="../turtlegui.css"/>
<style>


</style>

<script src="../turtlegui.js"></script>

<script>

// Controller code / state
var data = {
    ingredients: [
        {name: "Flour", amount: 4},
        {name: "Butter", amount: 1},
        {name: "Eggs", amount: 2},
        {name: "Vanilla", amount: 1},
        {name: "Apple", amount: 4}
    ]
} 

var recipe = {
    new_ingredient: {
        name: null
    },
    add_ingredient: function() {
        data.ingredients[data.ingredients.length] = {
            name: recipe.new_ingredient.name,
            amount: 1
        };
        recipe.new_ingredient.name = null;
        turtlegui.reload();
    },
    remove_ingredient: function(ingredient) {
        data.ingredients.splice(data.ingredients.indexOf(ingredient), 1);
        turtlegui.reload();
    }
}

document.addEventListener("DOMContentLoaded", function(){
    // call turtlegui.reload() when the page loads 
    turtlegui.reload();
});

</script>

<body>
<label>Null list:</label>
<div gui-list="nonexistant.list" gui-item="item">
    <div gui-text="item"></div>
</div>


</body>
